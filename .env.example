# ═══════════════════════════════════════════════════════════════
# Roxabi Boilerplate — Environment Configuration
# ═══════════════════════════════════════════════════════════════
# Copy this file to .env and fill in the values.
# Uncommented vars are REQUIRED for local dev.
# Commented vars are OPTIONAL (enable as needed).
# ═══════════════════════════════════════════════════════════════

# ─── Application (Required) ──────────────────────────────────
WEB_PORT=3000              # Frontend dev server port
PORT=4000                  # API dev server port
APP_URL=http://localhost:3000   # Frontend URL (used for redirects, emails)
API_URL=http://localhost:4000   # API URL (used by frontend for API calls)
CORS_ORIGIN=http://localhost:3000  # Must match APP_URL exactly
LOG_LEVEL=debug            # debug | info | warn | error

# ─── Database (Required) ─────────────────────────────────────
# On Vercel: auto-injected by Neon Marketplace integration
DATABASE_URL=postgresql://roxabi:roxabi@localhost:5432/roxabi

# ─── Authentication (Required) ───────────────────────────────
BETTER_AUTH_SECRET=change-me-to-a-random-32-char-string  # Generate: openssl rand -hex 16
BETTER_AUTH_URL=http://localhost:4000  # Must point to the API, not the web app

# ─── Authentication — OAuth Providers (Optional) ─────────────
# Enable social login by uncommenting and filling in credentials
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GITHUB_CLIENT_ID=
# GITHUB_CLIENT_SECRET=

# ─── Email — Resend (Optional) ───────────────────────────────
# On Vercel: auto-injected by Resend Marketplace integration
# RESEND_API_KEY=
EMAIL_FROM=noreply@yourdomain.com

# ─── Rate Limiting — Upstash Redis (Optional) ────────────────
# On Vercel: auto-injected by Upstash Marketplace integration
# Required for rate limiting to work; without these, rate limiting is disabled
# KV_REST_API_URL=
# KV_REST_API_TOKEN=
# RATE_LIMIT_ENABLED=true
# SWAGGER_ENABLED=true
# RATE_LIMIT_GLOBAL_TTL=60000      # ms — global rate limit window
# RATE_LIMIT_GLOBAL_LIMIT=60       # requests per window
# RATE_LIMIT_AUTH_TTL=60000         # ms — auth endpoint window
# RATE_LIMIT_AUTH_LIMIT=5           # auth requests per window
# RATE_LIMIT_AUTH_BLOCK_DURATION=300000  # ms — block duration after limit hit
# RATE_LIMIT_API_TTL=60000          # ms — general API window
# RATE_LIMIT_API_LIMIT=100          # API requests per window

# ─── Cron Jobs (Optional) ────────────────────────────────────
# Vercel injects via Authorization: Bearer header
# CRON_SECRET=change-me-to-a-random-secret

# ─── Claude Code (Optional) ──────────────────────────────────
CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS=1  # Enable multi-agent coordination

# ─── External Services (Optional) ────────────────────────────
# GITHUB_TOKEN=
# OPENAI_API_KEY=
# ANTHROPIC_API_KEY=

# ─── Public (Exposed to Client — NEVER put secrets here) ────
# WARNING: VITE_ prefixed vars are bundled into client JS and visible to all users.
VITE_ENABLE_DEMO=true
VITE_GITHUB_REPO_URL=https://github.com/MickaelV0/roxabi_boilerplate

# ═══════════════════════════════════════════════════════════════
# Configuration Examples
# ═══════════════════════════════════════════════════════════════

# --- Example: Local Dev (default — just copy .env.example to .env) ---
# All required vars above have sensible defaults. Run:
#   cp .env.example .env && bun install && bun dev

# --- Example: Vercel Preview ---
# Most vars are auto-injected by Marketplace integrations (Neon, Resend, Upstash).
# You only need to set manually:
#   BETTER_AUTH_SECRET=<random-32-char-string>
#   APP_URL=https://your-preview-url.vercel.app
#   CORS_ORIGIN=https://your-preview-url.vercel.app

# --- Example: VPS / Self-Hosted Production ---
# NODE_ENV=production
# WEB_PORT=3000
# PORT=4000
# APP_URL=https://app.example.com
# API_URL=https://api.example.com
# DATABASE_URL=postgresql://user:pass@clouddb:5432/roxabi
# CORS_ORIGIN=https://app.example.com
# BETTER_AUTH_SECRET=<random-32-char-string>
# BETTER_AUTH_URL=https://api.example.com
# EMAIL_FROM=noreply@example.com
# RESEND_API_KEY=re_<your-resend-api-key>
# KV_REST_API_URL=https://xxx.upstash.io
# KV_REST_API_TOKEN=xxx
