---
title: "EmptyState Component + Design System Showcase Extension"
description: Spec for a reusable EmptyState component in packages/ui and adding 7 high-value component showcases to the /design-system page.
issue: 348
tier: F-lite
---

## Context

**Promoted from:** [EmptyState Analysis](../analyses/348-empty-state-component.mdx)

The app has 5 duplicated inline `EmptyState` implementations across admin pages and settings — 1 migrated in this PR, 4 deferred. There is no shared component in `packages/ui`. Additionally, the `/design-system` page only showcases 13 of 36 exported component families (~36% coverage).

This spec covers two deliverables:
1. A reusable `EmptyState` component in `packages/ui`
2. Adding 7 high-value component showcases to the design system page

## Goal

Eliminate empty-state duplication by providing a single, variant-aware `EmptyState` component. Improve design system page coverage from ~36% to ~58% so developers can discover and test components without reading source code.

## Users &amp; Use Cases

**Frontend developers** building pages that display lists, tables, or filtered data:
- Zero-data state: a new user with no organizations sees a helpful message + optional CTA
- Error state: an API call fails and the user sees an error message + optional retry button
- Search state: a filter returns no results and the user sees a "no results" message

**Frontend developers** exploring the design system page:
- Discover available components and their variants
- Test prop combinations interactively via `ComponentShowcase`

## Expected Behavior

### Happy path

1. Developer imports `EmptyState` from `@repo/ui`
2. Passes `icon`, `description`, and optionally `title`, `action`, `variant`
3. Component renders a centered flex column with icon → title → description → action
4. Variant controls border style and icon color:
   - `default` (dashed border, muted icon) — collection is empty, no filter active
   - `error` (solid border, destructive icon) — data failed to load
   - `search` (no border, muted icon) — filter/search active but returned zero results

### Edge cases

| Case | Handling |
|------|----------|
| No `title` provided | Title element is not rendered; description moves up |
| No `action` provided | Action area is not rendered; no extra spacing |
| No `variant` provided | Defaults to `default` |
| Very long description | Text wraps within `max-w-md` container, stays centered |
| Icon is a wrapped element (e.g., pill container) | Works — `icon` accepts `React.ReactNode` |
| `className` override | Merged via `cn()`, allows caller customization |

## Constraints

- Must follow existing `packages/ui` patterns: `cva`, `data-slot`, `data-variant`, `cn()` utility
- `description` prop is `string` only (not ReactNode) to keep text layout predictable
- `icon` prop is `React.ReactNode` — component renders it bare, caller handles any wrapper styling
- Design system showcases must use `ComponentShowcase` wrapper and `m.*()` i18n messages
- No new dependencies

## Non-goals

- Migrating the other 4 inline `EmptyState` implementations (audit-logs, users, members, api-keys) — follow-up work
- Adding medium-value components to the design system page (Accordion, DropdownMenu, HoverCard, FormMessage, PasswordInput)
- Built-in retry logic for error variant — callers use the `action` prop
- Animation or transition effects on empty states

## Technical Decisions

| Decision | Rationale |
|----------|-----------|
| Monolithic component (Shape A) over compound (Shape B) | Fixed layout (icon → title → desc → action) doesn't benefit from compound composition. Simpler API, fewer exports. |
| `description: string` not `ReactNode` | Prevents callers from breaking text layout with complex markup. String covers all existing usages. |
| Bare icon rendering | Keeps component generic. API keys' pill wrapper is a caller concern, not a component concern. |
| State-driven variants | `default`/`error`/`search` map to *what happened* not *where the component sits*. |
| All 7 high-value DS components in one PR | They are independent showcases with no interdependencies. Batch for efficiency. |

## Success Criteria

- [ ] `EmptyState` component exists at `packages/ui/src/components/EmptyState.tsx`
- [ ] Props: `icon` (ReactNode, required), `title` (string, optional), `description` (string, required), `action` (ReactNode, optional), `variant` (`'default' | 'error' | 'search'`, defaults to `'default'`), `className` (string, optional)
- [ ] Uses `cva` for variants, `data-slot="empty-state"`, `data-variant={variant}`
- [ ] Exported from `packages/ui/src/index.ts`
- [ ] Unit tests cover: all 3 variants render correctly, optional props (title, action) conditionally render, custom className is applied, data-slot and data-variant attributes are present, composed usage with icon + title + description + action
- [ ] `EmptyState` and `emptyStateVariants` both exported from `packages/ui/src/index.ts` (matches `alertVariants`, `cardVariants` pattern)
- [ ] `admin/-organizations-views.tsx` uses the shared `EmptyState` instead of its inline version (inline `EmptyState` function deleted)
- [ ] Design system page showcases added for all 7 components (see showcase detail below)
- [ ] i18n messages added for all new showcases in `en.json` and `fr.json`
- [ ] All tests pass (`bun run test`)
- [ ] Typecheck passes (`bun run typecheck`)
- [ ] Lint passes (`bun run lint`)
- [ ] i18n validation passes (`bun run i18n:validate`)

## Design System Showcase Detail

Each new showcase uses `ComponentShowcase` with category and `propControls`:

| Component | Category | propControls | Notes |
|-----------|----------|-------------|-------|
| **EmptyState** | Feedback | `variant` (select: default/error/search) | Show with sample icon, title, description, action |
| **Alert** | Feedback | `variant` (select: default/destructive/warning) | Show with AlertTitle + AlertDescription |
| **Dialog** | Overlay | none | Static demo with trigger button |
| **Sheet** | Overlay | `side` (select: top/right/bottom/left) | Trigger button opens sheet |
| **Tabs** | Navigation | none | Static 3-tab demo |
| **Spinner** | Feedback | `size` (select: sm/default/lg/xl) | Matches existing Spinner size variants |
| **ConfirmDialog** | Overlay | none | Trigger button opens confirmation |

## Open Questions

None — all ambiguities resolved during analysis and interview.
