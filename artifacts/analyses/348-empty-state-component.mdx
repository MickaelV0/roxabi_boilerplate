---
title: "Reusable EmptyState Component + Design System Page Gaps"
description: Analysis of a shared EmptyState component to replace 4+ duplicated inline implementations, plus audit of missing components in the /design-system showcase.
---

## Context

The app has at least 4 duplicated inline `EmptyState` implementations with no shared component:

| Location | Pattern | Has CTA? |
|----------|---------|----------|
| `admin/audit-logs.tsx` | icon + description | No |
| `admin/users.tsx` | icon + description | No |
| `admin/-organizations-views.tsx` | icon + description | No |
| `admin/members.tsx` | icon + description | No |
| `settings/api-keys/-components/empty-state.tsx` | icon + title + description + button | Yes |

All follow the same visual structure: centered flex column, icon in muted foreground, text description. The API keys variant adds a title, longer description, and a CTA button — representing the "actionable" empty state pattern.

From the "Vibe Coding 2.0" audit — Rule #17: *"Empty states tell users what to do when there's no content."*

## Questions Explored

### Q1: What props does the component need?

**Answer: `icon`, `title`, `description`, `action`, `variant`.**

Examining the 5 existing implementations:

- **`icon`** — always present, always a Lucide icon. Type: `React.ReactNode` (allows any icon/SVG). The component renders the icon bare (no container) — callers that need a pill/circle background (like the API keys variant) wrap the icon themselves before passing it.
- **`title`** — present in the API keys variant but not others. Optional `string`.
- **`description`** — always present. Required `string` (not ReactNode — keeps the component's text layout predictable; complex content should use a different pattern).
- **`action`** — CTA button, present only in API keys variant. Optional `React.ReactNode`.
- **`variant`** — issue requests `default`, `error`, `search`. Maps to visual treatment (border style, icon color). Variant is state-driven, not context-driven (see Q2).

### Q2: What variants are needed?

**Answer: 3 variants — `default`, `error`, `search`.**

| Variant | Border | Icon Color | Trigger Condition |
|---------|--------|------------|-------------------|
| `default` | dashed | `muted-foreground/50` | Collection is empty and no filter/search is active |
| `error` | solid | `destructive` | Data failed to load (API error, timeout) |
| `search` | none | `muted-foreground/50` | A filter or search query is active but returned no results |

Variant selection is **state-driven** (what happened) not context-driven (where the component sits). A `default` variant inside a Card looks the same as outside one. The `search` variant drops the border because it typically appears within already-bordered containers, but the trigger is "active filter returned zero results."

## Shapes

### Shape A: Monolithic component with variant prop (Recommended)

Single `EmptyState` component using `cva` for variants, matching the existing `Alert`/`Card` pattern:

```tsx
<EmptyState
  icon={<BuildingIcon />}
  title="No organizations"
  description="Create your first organization to get started."
  action={<Button>Create</Button>}
  variant="default"
/>
```

**Pros:**
- Matches existing `packages/ui` patterns (cva + data-slot + data-variant)
- Single import, simple API
- Easy to test — one component, 3 variants

**Cons:**
- All props are top-level, could feel crowded with all 5 props

### Shape B: Compound component (EmptyState + EmptyState.Icon/Title/Description/Action)

Follows the `Card`/`Alert` compound pattern:

```tsx
<EmptyState variant="default">
  <EmptyStateIcon><BuildingIcon /></EmptyStateIcon>
  <EmptyStateTitle>No organizations</EmptyStateTitle>
  <EmptyStateDescription>Create your first organization.</EmptyStateDescription>
  <EmptyStateAction><Button>Create</Button></EmptyStateAction>
</EmptyState>
```

**Pros:**
- Maximum composition flexibility
- Consistent with Card/Alert subcomponent pattern

**Cons:**
- Over-engineered for the use case — all existing usages would use all subcomponents
- More boilerplate at call sites for a simple pattern
- More exports to maintain and test

## Fit Check

**Recommendation: Shape A (monolithic).** The component has a fixed, predictable layout (icon → title → description → action, vertically centered). Unlike `Card` which genuinely needs flexible composition (header/content/footer can be mixed), `EmptyState` always renders the same structure. Shape B adds API surface without adding real flexibility.

**Integration scope:** Replace the `EmptyState` in `admin/-organizations-views.tsx` as the initial usage example in this PR (simplest — just icon + description, no CTA). The remaining 4 inline implementations (audit-logs, users, members, api-keys) are follow-up migrations — not in scope for this PR.

**Note on API keys migration:** The `settings/api-keys` empty state wraps its icon in a `rounded-full bg-muted p-3` pill container. Since the shared `EmptyState` renders bare icons, that migration would pass `<div className="rounded-full bg-muted p-3"><KeyIcon /></div>` as the `icon` prop. This works but is a caller concern, not a component concern.

**Files touched:** ~5 (component, test, index.ts export, 1 integration, design system page).

## Design System Page Audit

The `/design-system` page (`ComponentsSection.tsx`) only showcases 14 of 30+ exported components. Missing components by category:

### High-value additions (commonly used, should be showcased)

| Component | Category | Notes |
|-----------|----------|-------|
| **Alert** | Feedback | Has 3 variants (default, destructive, warning) |
| **Dialog** | Overlay | Core modal pattern |
| **Sheet** | Overlay | Slide-out panel |
| **Tabs** | Navigation | Tab interface |
| **Spinner** | Feedback | Loading indicator with size variants |
| **ConfirmDialog** | Overlay | Destructive action confirmation |
| **EmptyState** | Feedback | New component from this issue |

### Medium-value additions (useful but less critical)

| Component | Category | Notes |
|-----------|----------|-------|
| Accordion | Layout | Collapsible sections |
| DropdownMenu | Navigation | Context-triggered menu |
| HoverCard | Overlay | Hover-triggered info card |
| FormMessage | Feedback | Form validation messages |
| PasswordInput | Inputs | Password with strength meter |

### Skip (app-specific or internal)

| Component | Reason |
|-----------|--------|
| OAuthButton | Auth-specific, not general-purpose |
| PresentationNav | Internal/demo navigation |
| AnimatedSection | Scroll animation wrapper |
| DestructiveConfirmDialog | Variant of ConfirmDialog |
| NavigationMenu | Header-specific |
| ContextMenu | Right-click menu, niche |
| Sonner/Toaster | Toast notifications (hard to demo statically) |
| StatCounter | Dashboard-specific animated counter |

**Recommendation:** Add the 7 high-value components to the design system page alongside the new EmptyState. This brings showcase coverage from ~36% (13/36 component families) to ~58% (21/36).

`<!-- complexity: 2 -->`