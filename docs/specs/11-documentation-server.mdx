---
title: Documentation Server - Fumadocs v16 + TanStack Start
description: Technical specification for Fumadocs v16 integrated with TanStack Start in Roxabi Boilerplate
status: implemented
---

> **Deprecated**: This document is outdated and kept for historical reference only. Please refer to the main documentation sections for current information.

## Context

The Roxabi Boilerplate project needs a documentation server to view MDX files in a browser. After evaluating multiple approaches, **Fumadocs v16 integrated with TanStack Start** was selected for its native support and unified development experience.

## Implementation

### Architecture

Fumadocs v16 is integrated directly into `apps/web` using TanStack Start, replacing the previous Docker-based approach. This provides:

- Single application for both app and documentation
- Native TanStack Start routing integration
- Shared styling and components
- Simpler deployment

### File Structure

```
apps/web/
├── package.json              # Dependencies (fumadocs-*, tanstack-*)
├── vite.config.ts            # Vite config with Fumadocs MDX plugin
├── source.config.ts          # Fumadocs MDX content source config
├── tsconfig.json             # TypeScript config with path aliases
├── src/
│   ├── router.tsx            # TanStack Router setup
│   ├── routeTree.gen.ts      # Auto-generated route tree
│   ├── styles/
│   │   └── app.css           # Tailwind + Fumadocs UI styles
│   ├── components/
│   │   └── not-found.tsx     # 404 component
│   ├── lib/
│   │   ├── source.ts         # Fumadocs source loader
│   │   └── layout.shared.tsx # Shared layout options
│   └── routes/
│       ├── __root.tsx        # Root layout with RootProvider
│       ├── index.tsx         # Home page
│       └── docs/
│           └── $.tsx         # Dynamic docs routes
└── .source/                  # Generated Fumadocs collections (gitignored)

docs/                         # MDX content (at repo root)
├── index.mdx
├── getting-started.mdx
├── meta.json
├── specs/
└── analyses/
```

### Key Technologies

| Component | Version | Purpose |
|-----------|---------|---------|
| fumadocs-core | ^16.5.0 | Core utilities, source loader |
| fumadocs-mdx | ^14.2.5 | MDX processing, Vite plugin |
| fumadocs-ui | ^16.5.0 | UI components, layouts |
| @tanstack/react-start | ^1.157.16 | SSR framework |
| @tanstack/react-router | ^1.157.16 | File-based routing |
| tailwindcss | ^4.1.18 | Styling |

### Routes

| Route | Component | Description |
|-------|-----------|-------------|
| `/` | `index.tsx` | Home page with link to docs |
| `/docs/*` | `docs/$.tsx` | Dynamic docs pages |

### Configuration

**source.config.ts** - Points Fumadocs to the docs folder:
```ts
import { defineConfig, defineDocs } from 'fumadocs-mdx/config'

export const docs = defineDocs({
  dir: '../../docs',
})

export default defineConfig()
```

**vite.config.ts** - Vite plugins:
```ts
plugins: [
  mdx(await import('./source.config')),
  tailwindcss(),
  tsConfigPaths(),
  tanstackStart({ prerender: { enabled: true } }),
  react(),
]
```

## Usage

```bash
# Start development server
bun docs
# or
cd apps/web && bun dev

# Open http://localhost:3000
# Docs available at http://localhost:3000/docs
```

## Why This Approach

### Benefits Over Previous Docker Approach

1. **Simpler Setup** - No Docker required for documentation
2. **Unified Development** - Single dev server for app and docs
3. **Better DX** - Faster hot reload, shared tooling
4. **Native Integration** - Uses TanStack Start's native Fumadocs support
5. **Easier Deployment** - Single build output

### Why Fumadocs

| Criteria | Fumadocs | Alternatives |
|----------|----------|--------------|
| **TanStack Start** | Official support | None/Limited |
| **React** | Native | Vue (VitePress), Astro (Starlight) |
| **TypeScript** | First-class | Varies |
| **Bundle Size** | Smallest (161KB) | 200-400KB |

## MDX Content

Documentation files live in `docs/` at the repo root with:
- Frontmatter (title, description)
- `meta.json` for navigation ordering
- Support for specs, analyses, and guides

## Success Criteria

- [x] TanStack Start configured with file-based routing
- [x] Fumadocs v16 integrated via Vite plugin
- [x] All MDX files rendered correctly
- [x] Navigation sidebar auto-generated
- [x] Dark mode supported
- [x] Hot reload works
- [x] TypeScript passes
- [x] Linting passes

## References

- [Fumadocs Documentation](https://www.fumadocs.dev/)
- [Fumadocs v16 Release](https://www.fumadocs.dev/blog/v16)
- [TanStack Start](https://tanstack.com/start)
