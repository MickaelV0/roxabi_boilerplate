---
title: "Align Demo Pages with Design System"
description: Refactor 12 demo pages to replace hardcoded styles with @repo/ui components and semantic design tokens.
---

# #77 — Align Demo Pages with Design System

## Context

Issue #48 (UI Component Library) shipped 20+ Shadcn/UI components in `packages/ui` with OKLch CSS variable tokens supporting light and dark mode. The 13 demo pages under `apps/web/src/routes/demo/` were built before the component library and use three inconsistent visual styles. Only `form/steps.tsx` dogfoods the design system — the rest use hardcoded colors, inline gradients, and raw HTML, making them poor references for developers.

**Promoted from:** [#77 Align Demo Pages with Design System Analysis](/docs/analyses/77-align-demo-pages-design-system)

**Dependency:** #48 UI Component Library — **CLOSED**.

**Tier: M** — 12 files modified, mechanical/repetitive changes, no architectural risk.

## Goal

All demo pages use `@repo/ui` components and semantic design tokens consistently, following `form/steps.tsx` as the reference implementation. Every demo works correctly in both light and dark mode with zero hardcoded colors.

## Users & Use Cases

| User | Use Case |
|------|----------|
| Developer (adopting boilerplate) | Browse demo pages to learn patterns — expects consistent, professional styling |
| Developer (adding a new demo) | Copy an existing demo as a starting point — needs a reliable template |
| Contributor (reviewing PRs) | Compare demo styling against design system — easier when all demos follow one pattern |

## Expected Behavior

### Happy path

Each demo page follows this layout pattern (derived from `form/steps.tsx`):

```tsx
&lt;div className="min-h-screen bg-background py-12">
  &lt;div className="mx-auto max-w-2xl px-6">
    {/* Header */}
    &lt;div className="mb-8 text-center">
      &lt;h1 className="text-3xl font-bold">Demo Title&lt;/h1>
      &lt;p className="mt-2 text-muted-foreground">Brief description&lt;/p>
    &lt;/div>

    {/* Content in Card */}
    &lt;Card>
      &lt;CardHeader>
        &lt;CardTitle>...&lt;/CardTitle>
      &lt;/CardHeader>
      &lt;CardContent>
        {/* Demo-specific content */}
      &lt;/CardContent>
    &lt;/Card>
  &lt;/div>
&lt;/div>
```

**Token mapping for replacements:**

| Old (hardcoded) | New (semantic) |
|-----------------|----------------|
| `text-white` | `text-foreground` |
| `text-white/60`, `text-white/80` | `text-muted-foreground` |
| `bg-black/50`, `bg-white/10` | Card component or `bg-muted` |
| `backdrop-blur-md`, `backdrop-blur-sm` | Remove (not needed with solid backgrounds) |
| `border-white/20` | `border-border` |
| `bg-gradient-to-br from-*` | Remove |
| `style={{ backgroundImage: 'radial-gradient(...)' }}` | Remove |
| `bg-[#282c34]` | `bg-background` |
| `text-[#61dafb]` | `text-primary` |
| Hardcoded gradient `Link` buttons | Card grid or `Button` component |

### File-by-file changes

#### 1. `store.tsx` — TanStack Store

- Remove inline `style={{ backgroundImage: ... }}` gradient
- Replace outer div: `min-h-screen bg-background py-12` + centered container
- Strip Card overrides (`bg-card/10 backdrop-blur-lg`) — use plain `&lt;Card>`
- Strip Input custom className overrides — use default `&lt;Input>` styling
- Replace `bg-muted/10` on FullName display with `bg-muted`
- Add header with title "Store Example" and subtitle
- Preserve `FirstName`, `LastName`, `FullName` sub-components (demonstrate fine-grained reactivity)

#### 2. `tanstack-query.tsx` — TanStack Query Todos

- Remove inline `style={{ backgroundImage: ... }}` and gradient classes
- Replace glassmorphic container with `bg-background` + Card pattern
- Wrap todo list in Card
- Replace list item styling: `bg-white/10 border-white/20` → `bg-muted` or unstyled within CardContent
- Strip Input overrides (`bg-white/10 text-white placeholder-white/60`) — use default styling
- Strip Button custom className — use default styling
- Add header with title and subtitle

#### 3. `table.tsx` — TanStack Table

- Container: already uses `min-h-screen bg-background p-6` — adjust to standard pattern (`py-12` + centered `max-w-5xl` container since tables need width)
- Keep raw HTML `&lt;table>` (no `@repo/ui` Table component exists)
- Table already uses semantic tokens (`bg-muted`, `text-foreground`, `border-border`) — minimal changes
- Wrap table in Card for visual consistency
- Strip redundant className overrides on Button pagination controls (`bg-muted hover:bg-muted`) — use default `variant="outline"`
- Add header with title and subtitle
- Keep `DebouncedInput` as-is (wraps `@repo/ui` Input)

#### 4. `form.simple.tsx` — Simple Form

- Remove inline `style={{ backgroundImage: ... }}` and gradient classes
- Replace glassmorphic container with `bg-background` + Card pattern
- Wrap form in Card (CardHeader + CardContent)
- Form fields unchanged (`useAppForm` hook already uses design system)
- Add header with title and subtitle

#### 5. `form.address.tsx` — Address Form

- Same changes as `form.simple.tsx` — container-only
- Form fields and validation logic unchanged
- Add header with title and subtitle

#### 6. `start.ssr.index.tsx` — SSR Demos Hub

- Remove gradient background and glassmorphic container
- Replace gradient `&lt;Link>` buttons with Card-based grid navigation (same pattern as `demo/index.tsx`)
- Each SSR mode becomes a Card with title and description
- Use `&lt;Link>` wrapping `&lt;Card>` with `group-hover:border-primary/50` transition
- Add header with title "SSR Demos" and subtitle

#### 7. `start.ssr.spa-mode.tsx` — SPA Mode

- Remove gradient background and glassmorphic container
- Replace with `bg-background` + Card pattern
- Wrap song list in Card
- Replace list item styling: `bg-white/10` → `bg-muted` rounded items, `text-white` → `text-foreground`, `text-white/60` → `text-muted-foreground`
- Remove hardcoded `text-green-400` on heading — use `text-foreground`
- Add header with title and subtitle

#### 8. `start.ssr.full-ssr.tsx` — Full SSR

- Identical structure to `spa-mode` — same changes
- Remove hardcoded `text-purple-400` on heading

#### 9. `start.ssr.data-only.tsx` — Data Only SSR

- Identical structure to `spa-mode` — same changes
- Remove hardcoded `text-pink-400` on heading

#### 10. `start.api-request.tsx` — API Request

- Remove inline `style={{ backgroundImage: ... }}` and gradient classes
- Replace glassmorphic container with `bg-background` + Card pattern
- Wrap names list in Card
- Replace list item styling: same token mapping as SSR demos
- Add header with title and subtitle

#### 11. `start.server-funcs.tsx` — Server Functions

- Remove inline `style={{ backgroundImage: ... }}` and gradient classes
- Replace glassmorphic container with `bg-background` + Card pattern
- Wrap todo list in Card
- Strip Input overrides (`bg-white/10 text-white placeholder-white/60`)
- Strip Button custom className
- Replace list item styling
- Add header with title and subtitle

#### 12. `demo.i18n.tsx` — Internationalization

- Remove `#282c34` background, spinning logo, `#61dafb` link color
- Remove `logo.svg` import and the `&lt;img>` element with spin animation
- Replace with design system layout: `bg-background` + Card pattern
- Add a Lucide `Globe` icon (static, no animation) as a visual element in the Card header
- Keep i18n functionality: `m.example_message()`, `m.learn_router()`, `&lt;LocaleSwitcher />`
- Display the localized message and link using semantic tokens
- Add header with title "Internationalization" and subtitle

### Edge cases

| Scenario | Behavior |
|----------|----------|
| Dark mode active | All demos render correctly — semantic tokens handle both modes automatically |
| Light mode active | No more `text-white` on dark backgrounds — demos are readable |
| `form/steps.tsx` visited after changes | Unchanged — it's already the reference implementation |
| `demo/index.tsx` hub visited | Unchanged — already uses design system |
| Demo pages with no data (empty lists) | Same as current — no change to data handling logic |
| `logo.svg` import removed from i18n | The SVG file may still exist in the codebase for other uses — only the import in `demo.i18n.tsx` is removed |

## Constraints

- **`@repo/ui` components only**: No new component creation. Use existing Card, Button, Input, Label, Separator, Badge.
- **No demo logic changes**: All state management, data fetching, form validation, server functions, and routing logic must remain identical.
- **`useAppForm` hook untouched**: The form hook in `form.simple.tsx` and `form.address.tsx` already uses design system styling internally.
- **Raw HTML table preserved**: `table.tsx` uses TanStack Table's `flexRender` with raw `&lt;table>` — there is no `@repo/ui` Table component. The semantic token usage for table cells is already correct.
- **No `max-w` change for table**: The table demo may use `max-w-5xl` or wider to accommodate columns, unlike the `max-w-2xl` used by simpler demos.

## Non-goals

- **Creating new `@repo/ui` components** (e.g., Table): Out of scope.
- **Changing demo functionality**: No data, state, or routing logic changes.
- **Adding new demos**: Only existing demos are restyled.
- **Design system page (#70)**: Separate issue, not related.
- **Accessibility audit**: Beyond using semantic tokens and existing `@repo/ui` accessibility. Existing `aria-label` attributes are preserved.
- **Visual differentiation between SSR modes**: The three SSR demos (SPA, Full SSR, Data Only) will look identical in structure. They differ in behavior (SSR strategy), not visual style. The removed colored headings (`text-green-400`, `text-purple-400`, `text-pink-400`) are not replaced — the title text itself indicates the mode.

## Technical Decisions

### 1. Single layout pattern, no shared wrapper component

Each demo applies the layout pattern directly. A shared `DemoPageLayout` wrapper component is **not** created because:
- Demos have different content structures (some have headers + Card, some have multiple Cards, table needs wider container)
- The pattern is simple enough to repeat (3-4 lines of container markup)
- Avoiding premature abstraction — if a wrapper becomes useful later, it can be extracted

### 2. Card as the primary content container

Every demo wraps its main content in `&lt;Card>` from `@repo/ui`. This provides:
- Consistent visual boundary (border, background, radius)
- Dark/light mode support built-in
- Familiar pattern from the reference implementation

### 3. Remove all inline `style={{}}` attributes

No inline styles should remain on any demo page. All styling uses Tailwind utility classes with semantic design tokens.

### 4. SSR hub uses Card grid (not Buttons)

The `start.ssr.index.tsx` navigation page uses the same Card grid pattern as `demo/index.tsx`. This provides consistency across the demo hub and better accommodates descriptions for each SSR mode.

### 5. i18n demo: Lucide Globe icon

Replace the React-branded spinning logo with a static `Globe` icon from `lucide-react` (already a project dependency). This is a natural visual for an internationalization demo without any external branding.

## Success Criteria

- [ ] All 12 demo pages use `bg-background` as the page background (no hardcoded gradients or colors)
- [ ] All 12 demo pages wrap main content in `@repo/ui` Card components
- [ ] No `style={{ backgroundImage: ... }}` inline styles remain in any demo file
- [ ] No hardcoded color values (`#282c34`, `#61dafb`, `#3B021F`, `#f4a460`, etc.) remain
- [ ] No `text-white` class used outside of a `@repo/ui` component's internal styling
- [ ] No `bg-white/10`, `bg-black/50`, `backdrop-blur-*` classes remain
- [ ] All demos render correctly in light mode (text readable, proper contrast)
- [ ] All demos render correctly in dark mode (text readable, proper contrast)
- [ ] `demo.i18n.tsx` no longer imports `logo.svg` or uses the spin animation
- [ ] `start.ssr.index.tsx` uses Card grid navigation (not gradient buttons)
- [ ] All demo functionality is preserved (state, data fetching, forms, routing, i18n)
- [ ] `form/steps.tsx` is unchanged (reference implementation)
- [ ] `demo/index.tsx` is unchanged (already compliant)
- [ ] TypeScript builds without errors (`bun run typecheck`)
- [ ] Biome linting passes (`bun run lint`)

## Open Questions

None — the scope is well-defined and all design decisions have been made.
