---
title: "#77 Align Demo Pages with Design System"
description: Analysis of the 13 demo pages' visual inconsistencies and plan to align them with the shared @repo/ui design system.
---

# #77 Align Demo Pages with Design System

## Context

Issue #48 (UI Component Library) shipped 20+ Shadcn/UI components in `packages/ui` with OKLch CSS variable tokens supporting light and dark mode. However, the 13 demo pages under `apps/web/src/routes/demo/` were built before the component library existed and use three inconsistent visual styles. Only `form/steps.tsx` dogfoods the design system. The rest use hardcoded colors, inline gradients, and raw HTML — making them poor references for developers adopting the boilerplate.

## Questions Explored

1. What are the exact visual styles in use and which files use each?
2. Which demos already partially use `@repo/ui` components?
3. What is the reference layout pattern (from `form/steps.tsx`)?
4. What `@repo/ui` components are available for the refactoring?
5. Are there any structural concerns beyond CSS (logic, imports, accessibility)?

## Analysis

### Three Visual Styles Identified

| Style | Files | Characteristics |
|-------|-------|-----------------|
| **Design system** (`@repo/ui`) | `form/steps.tsx` | Card, Button, Input, Label, Separator from `@repo/ui`. Semantic tokens: `bg-background`, `text-muted-foreground`, `text-primary-foreground`. Consistent container: `min-h-screen bg-background py-12` + centered `max-w-*` wrapper. |
| **Dark glassmorphic** (raw HTML) | `store.tsx`, `tanstack-query.tsx`, `form.simple.tsx`, `form.address.tsx`, `start.ssr.index.tsx`, `start.ssr.spa-mode.tsx`, `start.ssr.full-ssr.tsx`, `start.ssr.data-only.tsx`, `start.api-request.tsx`, `start.server-funcs.tsx` | Inline `style={{ backgroundImage: 'radial-gradient(...)' }}`, `bg-black/50`, `backdrop-blur-md`, `bg-white/10`, `border-white/20`, `text-white`. Completely breaks in light mode. |
| **React-inspired** | `demo.i18n.tsx` | Hardcoded `#282c34` background, spinning logo SVG, `#61dafb` link color. Entirely standalone. |

### Partial `@repo/ui` Usage

Several glassmorphic demos already import `@repo/ui` components but override their styling:

| File | Imports from `@repo/ui` | Issue |
|------|------------------------|-------|
| `store.tsx` | Card, CardContent, CardHeader, CardTitle, Input | Wraps Card in `bg-card/10 backdrop-blur-lg` + hardcoded gradient background |
| `table.tsx` | Button, Input | Raw HTML `&lt;table>` with hardcoded classes. Custom `DebouncedInput` wraps Input. |
| `tanstack-query.tsx` | Button, Input | Glassmorphic container (`bg-black/50 backdrop-blur-md`) |
| `form.simple.tsx` | (via `useAppForm` hook) | Glassmorphic container only — form fields already use design system via `useAppForm` |
| `form.address.tsx` | (via `useAppForm` hook) | Same — glassmorphic container only |
| `start.server-funcs.tsx` | Button, Input | Glassmorphic container, Input styled with `bg-white/10 text-white` overrides |

### Reference Pattern: `form/steps.tsx`

The target layout pattern is:

```tsx
<div className="min-h-screen bg-background py-12">
  <div className="mx-auto max-w-2xl px-6">
    {/* Optional header */}
    <div className="mb-8 text-center">
      <h1 className="text-3xl font-bold">Title</h1>
      <p className="mt-2 text-muted-foreground">Subtitle</p>
    </div>

    {/* Content in Card */}
    <Card>
      <CardHeader>
        <CardTitle>...</CardTitle>
        <CardDescription>...</CardDescription>
      </CardHeader>
      <CardContent>...</CardContent>
      <CardFooter>...</CardFooter>
    </Card>
  </div>
</div>
```

Key characteristics:
- `bg-background` (not hardcoded) — works in both light and dark mode
- Semantic text colors: `text-foreground`, `text-muted-foreground`
- Card wrapper for main content
- Centered max-width container with horizontal padding
- No inline `style={}` attributes

### Available `@repo/ui` Components

20 components available: Accordion, Avatar, Badge, Button, Card (+ sub-components), Checkbox, Dialog, DropdownMenu, HoverCard, Input, Label, NavigationMenu, OAuthButton, PasswordInput, Select, Separator, Skeleton, Slider, Sonner, Switch, Textarea, Tooltip.

Relevant for refactoring: **Card** (structure), **Button** (actions), **Input** (fields), **Label** (form labels), **Separator** (dividers), **Badge** (for demo labels/tags).

### File-by-File Change Assessment

| File | Current Style | Changes Needed | Complexity |
|------|--------------|----------------|------------|
| `store.tsx` | Glassmorphic + partial `@repo/ui` | Remove inline gradient, replace container with `bg-background` + Card pattern. Already uses Card — strip `bg-card/10 backdrop-blur-lg` overrides. | Low |
| `tanstack-query.tsx` | Glassmorphic + partial `@repo/ui` | Remove gradient + glassmorphic container. Wrap todo list in Card. Strip Input/Button style overrides. | Low |
| `table.tsx` | Glassmorphic + partial `@repo/ui` | Already uses semantic tokens (`bg-background`, `text-foreground`, `bg-muted`, `border-border`) for the table. Needs only outer container alignment (currently `min-h-screen bg-background p-6` — close, just wrap in centered container + Card). Custom `DebouncedInput` and raw `&lt;table>` are fine — no `@repo/ui` Table component exists. | Low |
| `form.simple.tsx` | Glassmorphic container | Replace outer container. Form fields already use design system via `useAppForm` — zero changes to form logic. Wrap in Card. | Low |
| `form.address.tsx` | Glassmorphic container | Same as form.simple — replace container, wrap in Card. Form logic unchanged. | Low |
| `start.ssr.index.tsx` | Glassmorphic + gradient buttons | Replace gradient links with Card-based navigation (similar to `demo/index.tsx` pattern) or Button components. Remove gradient background. | Medium |
| `start.ssr.spa-mode.tsx` | Glassmorphic | Replace container. Wrap song list in Card. Use `bg-muted` for list items instead of `bg-white/10`. | Low |
| `start.ssr.full-ssr.tsx` | Glassmorphic | Identical structure to spa-mode — same changes. | Low |
| `start.ssr.data-only.tsx` | Glassmorphic | Identical structure to spa-mode — same changes. | Low |
| `start.api-request.tsx` | Glassmorphic | Replace container. Wrap names list in Card. Use `bg-muted` for list items. | Low |
| `start.server-funcs.tsx` | Glassmorphic + partial `@repo/ui` | Replace container. Strip Input style overrides. Wrap todo list in Card. | Low |
| `demo.i18n.tsx` | React-inspired | Most different. Remove `#282c34` background, spinning logo, `#61dafb` link. Replace with design system layout + Card. Keep i18n functionality (message display + LocaleSwitcher). | Medium |

### Files NOT Changing

| File | Reason |
|------|--------|
| `demo/index.tsx` | Already uses design system (Card, CardHeader, CardTitle, CardDescription, semantic tokens) |
| `demo.tsx` | Layout wrapper — just renders `&lt;Outlet />` |
| `demo/form/steps.tsx` | Reference implementation — no changes needed |
| `demo/api.tq-todos.ts` | API route — no UI |
| `demo/api.names.ts` | API route — no UI |

### Structural Concerns

1. **`demo.i18n.tsx` spinning logo**: The `logo.svg` import and CSS animation should be removed. The i18n demo should focus on demonstrating Paraglide JS, not mimicking React branding.
2. **`table.tsx` raw HTML table**: No `@repo/ui` Table component exists. The raw `&lt;table>` is appropriate — just needs semantic token alignment (which it mostly already has).
3. **`store.tsx` component granularity**: The `FirstName`, `LastName`, `FullName` sub-components demonstrate TanStack Store's fine-grained reactivity. These should be preserved as-is — only the outer wrapper changes.
4. **Dark/light mode**: All hardcoded `text-white` must become `text-foreground`. All `bg-white/10` must become `bg-muted`. This ensures demos work in both themes.

## Conclusions

1. **12 files need updating** — all changes are to the outer layout/container pattern. No demo logic changes.
2. **Changes are mechanical and repetitive** — same pattern applied to each file: remove glassmorphic wrapper, apply `bg-background` + Card layout from `form/steps.tsx`.
3. **Tier: M** — 12 files modified, but low architectural risk (no new components, no new patterns, purely visual alignment).
4. **`demo.i18n.tsx` requires the most work** — needs a complete visual redesign (remove React branding), though the i18n logic stays.
5. **`table.tsx` is closest to done** — already uses most semantic tokens, needs minor container adjustment.
6. **No new `@repo/ui` components needed** — everything required already exists.

## Next Steps

- [ ] Write a spec for issue #77 based on this analysis
- [ ] Define the exact container pattern to standardize (max-width, padding, Card usage per demo type)
- [ ] Decide whether `demo.i18n.tsx` keeps a visual element (e.g., a globe icon from Lucide) or becomes text-only
