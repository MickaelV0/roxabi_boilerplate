---
title: "#68 Auth UI/UX (Login, Register, Reset, Org pages)"
description: Analysis of authentication UI/UX polish, new auth pages, organization UI, and shared components for the Roxabi boilerplate.
---

## Context

Issue #19 (Auth + Users) delivered the full authentication backend and **minimal/headless** frontend pages — bare functional forms with no visual polish. Issue #68 covers the UI/UX layer: proper design, validation, error handling, loading states, responsive layout, accessibility, and organization management UI.

**Dependency:** #19 Auth + Users (Better Auth) — **CLOSED**. All backend endpoints are functional.

**Related documents:**
- [Analysis: #19 Auth + Users](./19-auth-users) — backend research
- [Spec: #19 Auth + Users](../specs/19-auth-users) — backend implementation spec

## Questions Explored

1. What is the current state of the auth pages and what needs to change?
2. What new pages and components are needed?
3. What toast/notification library should we use?
4. Is the backend ready for organization UI?
5. What is the right scope for org UI in this issue?
6. How should i18n be handled?

## Analysis

### Current State

Three minimal auth pages exist, built in #19 as functional-only implementations:

| Page | Route | Current State | Gaps |
|------|-------|---------------|------|
| Login | `/login` | Email/password form + OAuth buttons + magic link input | No validation, no loading feedback, no brand icons, no remember me, basic layout |
| Register | `/register` | Name/email/password form + OAuth buttons | No password strength, no validation, basic layout |
| Reset Password | `/reset-password` | Email input → sends reset link | No confirmation page for setting new password |

**Auth client** (`auth-client.ts`): Better Auth React SDK with session, sign in/up/out, magic link, organization, and admin plugins. Fully functional.

**UI library** (`@repo/ui`): Rich shadcn/ui component set — Button, Card, Input, Label, Dialog, Select, Checkbox, Switch, Avatar, DropdownMenu, Tooltip, and more. **Missing components needed**: Toast (Sonner), PasswordInput, AuthLayout, OAuthButton.

**i18n**: Paraglide JS is configured. Messages imported from `@/paraglide/messages` using `m` namespace. All new strings must be translatable.

### Missing Pages

| Page | Route | Purpose |
|------|-------|---------|
| Reset Password Confirmation | `/reset-password/confirm` | Reads token from URL, shows new password form |
| Email Verification | `/verify-email` | Shows verification status after clicking email link |
| Magic Link Confirmation | `/magic-link-sent` | Confirmation that magic link email was sent |

### Backend Readiness for Organization UI

The Better Auth organization plugin is **fully configured** in the backend:

| Component | Status | Details |
|-----------|--------|---------|
| Organization plugin | Configured | In `auth.instance.ts` |
| DB schema | Complete | `organizations`, `members`, `invitations` tables |
| CRUD endpoints | Available | Via Better Auth proxy (`/api/auth/create-organization`, `/api/auth/invite-member`, etc.) |
| Auth guard | Ready | `@RequireOrg()` decorator validates active org context |
| Session | Enhanced | `activeOrganizationId` on session object |

All organization operations are available through Better Auth's API — no custom NestJS wrapper needed for this issue. The frontend just needs to call the auth client SDK.

### Toast Library Decision: Sonner

| Library | Size | API | shadcn/ui Integration | Verdict |
|---------|------|-----|-----------------------|---------|
| **Sonner** | ~3KB | `toast.success('Done')` | Recommended by shadcn/ui docs | **Selected** |
| shadcn/ui Toast (Radix) | ~5KB | Verbose (Provider + hook + component) | Native | Too verbose |
| react-hot-toast | ~5KB | `toast.success('Done')` | Manual styling | Less polished |

**Sonner** provides the best DX with minimal API, beautiful defaults, and is the toast library recommended by the shadcn/ui documentation.

### New Shared Components for `@repo/ui`

| Component | Purpose | Design Notes |
|-----------|---------|--------------|
| `AuthLayout` | Centered card layout for all auth pages | Responsive, consistent branding, gradient/pattern background |
| `OAuthButton` | Branded social login buttons | Google/GitHub SVG icons, brand colors on hover, loading state |
| `PasswordInput` | Password field with show/hide toggle + strength indicator | Eye icon toggle, colored strength bar (weak/fair/strong/very strong) |

**Placement decision tree** (per frontend-patterns.mdx):
- `AuthLayout` → `apps/web/src/components/` — uses app context (routing, i18n)
- `OAuthButton` → `packages/ui/src/components/` — generic primitive, no business logic
- `PasswordInput` → `packages/ui/src/components/` — generic primitive, no business logic

### Organization UI Scope

| Component | Type | Description |
|-----------|------|-------------|
| Org Switcher | Header dropdown | Lists user's orgs, switch active org, create new org option |
| Org Settings | Page (`/org/settings`) | Edit name, slug, logo. Delete org (owner only) |
| Invite Members | Modal/Dialog | Email input + role selector (admin/member). Triggered from members list |
| Members List | Page (`/org/members`) | Table of members with role, join date. Invite button. Remove/change role actions |

### UX Features Checklist

| Feature | Implementation Approach |
|---------|------------------------|
| Form validation | Inline error messages below each field. Client-side + server-side. |
| Loading states | Button text changes + spinner. Disabled form during submission. |
| Toast notifications | Sonner for success/error feedback on form submission. |
| OAuth brand icons | SVG icons for Google and GitHub in `OAuthButton` component. |
| Remember me | Checkbox on login form. Maps to session `expiresIn` duration. |
| Password strength | Colored bar in `PasswordInput`. Rules: length, uppercase, numbers, symbols. |
| Responsive | Mobile-first. Auth pages: full-width on mobile, centered card on desktop. |
| Accessibility | ARIA labels, keyboard navigation, focus management, visible focus rings, screen reader announcements for errors. |
| i18n | All user-facing strings via Paraglide JS `m.*` messages. |

### Estimated File Count

| Location | New Files | Modified Files | Details |
|----------|-----------|----------------|---------|
| `apps/web/src/routes/` | 4 | 3 | New: reset confirm, verify email, magic link sent, org settings/members. Modified: login, register, reset |
| `apps/web/src/components/` | 3 | 1 | New: AuthLayout, OrgSwitcher, MembersList. Modified: Header (add org switcher) |
| `packages/ui/src/components/` | 3 | 0 | New: OAuthButton, PasswordInput, Sonner (toast) |
| `packages/ui/src/` | 0 | 1 | Modified: index.ts (exports) |
| `apps/web/src/lib/` | 1 | 1 | New: org hooks. Modified: auth-client (add org helpers) |
| i18n messages | 1 | 0 | Auth/org translation messages |
| **Total** | **~12** | **~6** | **~18 files total** |

**Tier: L (Large)** — >10 files, spans `apps/web` + `packages/ui`, new pages + components.

## Conclusions

1. **The existing minimal pages provide a solid functional base.** The auth client and Better Auth integration are working. This issue is purely frontend UI/UX work.

2. **Organization UI is included** because the backend is ready and the org switcher is essential for multi-tenant UX. The scope is: switcher + settings page + invite modal + members list.

3. **Three new `@repo/ui` components are needed:** OAuthButton (branded social buttons), PasswordInput (show/hide + strength), and Sonner toast integration. AuthLayout is app-specific and goes in `apps/web/src/components/`.

4. **Sonner is the toast library.** Minimal API, beautiful defaults, recommended by shadcn/ui.

5. **All strings must use Paraglide JS** (`m.*` messages) for i18n support.

6. **Tier L** — requires a worktree. Estimated ~18 files across 2 packages.

## Next Steps

1. **Create spec** for #68 with detailed component specs, page layouts, and implementation phases
2. **Generate implementation plan** with ordered tasks and file-level changes
3. **Create worktree** `../roxabi-68` for Tier L implementation
4. **Install Sonner** as first dependency addition
5. **Build shared components first** (OAuthButton, PasswordInput, Sonner) before page work

## References

- [Better Auth Client SDK](https://www.better-auth.com/docs/concepts/client)
- [Better Auth Organization Client](https://www.better-auth.com/docs/plugins/organization#client)
- [Sonner Toast Library](https://sonner.emilkowal.ski/)
- [shadcn/ui Sonner Integration](https://ui.shadcn.com/docs/components/sonner)
- [Analysis: #19 Auth + Users](./19-auth-users)
- [Spec: #19 Auth + Users](../specs/19-auth-users)
