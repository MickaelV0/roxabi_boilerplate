---
title: Architecture
description: Project structure, applications, packages and data flow in Roxabi Boilerplate
---

## Monorepo Structure

```
roxabi_boilerplate/
├── .env                    # Global environment variables
├── apps/
│   ├── web/               # Frontend application
│   ├── api/               # Backend API
│   ├── docs/              # Documentation server (Fumadocs + Docker)
│   └── packages/          # Shared code
│       ├── ui/            # Shared UI components
│       ├── config/        # Shared configurations
│       └── types/         # Shared TypeScript types
├── docs/                   # Documentation source (Markdown)
└── .claude/                # Claude Code configuration
```

## Applications

### Web (`apps/web`)

Frontend application built with TanStack Start.

- Server-side rendering
- File-based routing
- TypeScript strict mode

### API (`apps/api`)

Backend API built with NestJS and Fastify.

- REST + optional GraphQL
- Modular architecture
- OpenAPI documentation

### CLI (`apps/cli`) - Planned

Command-line interface generated from OpenAPI spec.

- Auto-generated from API's OpenAPI/Swagger spec
- Usable by humans and AI agents
- Multiple auth modes (env vars, config file, interactive login)
- JSON output for scripting and AI parsing

## Packages (`apps/packages/`)

Shared code used by applications.

### UI (`apps/packages/ui`)

Shared UI component library.

- React components
- Design system primitives
- Exported from `@repo/ui`

### Config (`apps/packages/config`)

Shared configurations.

- TypeScript configs
- Biome configs
- Exported from `@repo/config`

### Types (`apps/packages/types`)

Shared TypeScript type definitions.

- Domain models
- API contracts
- Exported from `@repo/types`

## Documentation (`apps/docs/`)

Documentation server as a monorepo app.

- Fumadocs-powered server (Next.js)
- Runs in Docker container
- Port configurable via `.env` (`DOCS_PORT`)
- MDX content in `apps/docs/content/`

```bash
# Start documentation server
bun docs
# or
docker compose -f apps/docs/docker-compose.yml up
```

## Data Flow

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   Client    │────▶│   Web App   │────▶│   API       │
│   Browser   │◀────│ (TanStack)  │◀────│  (NestJS)   │
└─────────────┘     └─────────────┘     └─────────────┘
                           │                   │
                           ▼                   ▼
                    ┌─────────────┐     ┌─────────────┐
                    │   apps/     │     │  Database   │
                    │  packages/  │     │             │
                    └─────────────┘     └─────────────┘
```

## Build System

TurboRepo handles:

- Parallel task execution
- Dependency-aware builds
- Caching for faster rebuilds

Build order: `apps/packages/* → apps/*`

Workspaces configuration:
```json
{
  "workspaces": ["apps/*", "apps/packages/*"]
}
```
