---
title: Internationalization (i18n)
description: Guide to using Paraglide JS for internationalization in Roxabi Boilerplate
---

## Overview

Roxabi Boilerplate uses [Paraglide JS](https://inlang.com/m/gerre34r/library-inlang-paraglideJs) for internationalization. Paraglide compiles translations into tree-shakeable JavaScript functions, resulting in up to 70% smaller i18n bundle sizes compared to traditional libraries.

## Key Benefits

- **Tree-shakeable**: Only used translations are bundled
- **Type-safe**: Full TypeScript support with autocomplete
- **Fast**: No runtime parsing, messages are pre-compiled
- **Simple**: No complex configuration or context providers

## Project Structure

```
apps/web/
├── messages/              # Source translation files
│   ├── en.json           # English (base locale)
│   └── de.json           # German
├── project.inlang/        # Paraglide configuration
│   └── settings.json
└── src/paraglide/         # Auto-generated (do not edit)
    ├── messages.js        # Message functions
    └── runtime.js         # Locale utilities
```

## Configuration

The Paraglide Vite plugin is configured in `apps/web/vite.config.ts`:

```typescript
paraglideVitePlugin({
  project: './project.inlang',
  outdir: './src/paraglide',
  strategy: ['url'],
})
```

Locale settings are in `apps/web/project.inlang/settings.json`:

```json
{
  "baseLocale": "en",
  "locales": ["en", "de"],
  "plugin.inlang.messageFormat": {
    "pathPattern": "./messages/{locale}.json"
  }
}
```

## Adding Translations

### 1. Add Messages to JSON Files

Add your message to each locale file in `apps/web/messages/`:

```json
// messages/en.json
{
  "greeting": "Hello, {name}!",
  "items_count": "{count, plural, one {# item} other {# items}}"
}
```

```json
// messages/de.json
{
  "greeting": "Hallo, {name}!",
  "items_count": "{count, plural, one {# Artikel} other {# Artikel}}"
}
```

### 2. Use Messages in Components

Import and call message functions:

```tsx
import { m } from '@/paraglide/messages'

function Welcome() {
  return (
    <div>
      <h1>{m.greeting({ name: 'World' })}</h1>
      <p>{m.items_count({ count: 5 })}</p>
    </div>
  )
}
```

## Locale Management

### Getting the Current Locale

```typescript
import { getLocale } from '@/paraglide/runtime'

const currentLocale = getLocale() // "en" or "de"
```

### Changing the Locale

```typescript
import { setLocale } from '@/paraglide/runtime'

setLocale('de') // Switch to German
```

### Available Locales

```typescript
import { locales, baseLocale } from '@/paraglide/runtime'

console.log(locales)    // ["en", "de"]
console.log(baseLocale) // "en"
```

## Locale Switcher Component

A ready-to-use locale switcher is available at `apps/web/src/components/LocaleSwitcher.tsx`:

```tsx
import { m } from '@/paraglide/messages'
import { getLocale, locales, setLocale } from '@/paraglide/runtime'

export function LocaleSwitcher() {
  const currentLocale = getLocale()

  return (
    <nav aria-label={m.language_label()}>
      {locales.map((locale) => (
        <button
          key={locale}
          onClick={() => setLocale(locale)}
          aria-pressed={locale === currentLocale}
        >
          {locale.toUpperCase()}
        </button>
      ))}
    </nav>
  )
}
```

## Adding a New Locale

1. Add the locale to `apps/web/project.inlang/settings.json`:

```json
{
  "locales": ["en", "de", "fr"]
}
```

2. Create the translation file `apps/web/messages/fr.json`:

```json
{
  "$schema": "https://inlang.com/schema/inlang-message-format",
  "greeting": "Bonjour, {name}!"
}
```

3. Run the dev server to regenerate the paraglide output:

```bash
bun dev
```

## Message Syntax

Paraglide uses the [ICU Message Format](https://unicode-org.github.io/icu/userguide/format_parse/messages/):

### Variables

```json
{
  "welcome": "Welcome, {username}!"
}
```

### Pluralization

```json
{
  "notifications": "{count, plural, =0 {No notifications} one {# notification} other {# notifications}}"
}
```

### Select (Gender, etc.)

```json
{
  "invite": "{gender, select, male {He invited you} female {She invited you} other {They invited you}}"
}
```

## Demo

Visit `/demo/i18n` in the web app to see a working example of the i18n implementation.

## Resources

- [Paraglide JS Documentation](https://inlang.com/m/gerre34r/library-inlang-paraglideJs)
- [ICU Message Format](https://unicode-org.github.io/icu/userguide/format_parse/messages/)
- [TanStack Router i18n Example](https://github.com/TanStack/router/tree/main/examples/react/i18n-paraglide)
